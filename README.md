# Версионирование правил обмена 1С
Набор скриптов для разбора xml-файла Правил обмена 1С на мелкие фрагменты, что позволяет версионировать их, например, в Git.

![СтруктураРазобранныхФайлов1](https://infostart.ru/upload/iblock/509/509fa138468c773c43c7192995d99c33.png)

![СтруктураРазобранныхФайлов2](https://infostart.ru/upload/iblock/6fd/6fd5df8406ea1329b53ffe79e36cd56a.png)

## Системные требования
Для работы скриптов потребуется 
* Операционная система Microsoft Windows 7 или выше со встроенной библиотекой Microsoft XML Parser (MSXML2.DOMDocument).
* Интерпретатор [OneScript](http://oscript.io/).

## Порядок разбора и сбора
1. В каталог со служебными файлами помещается файл `ПравилаОбмена.xml`.
1. Запускается файл `_РазобратьПравила.bat`. Файл правил обмена разбирается с учетом иерархии в папку `src`.
1. Запускается файл `_СобратьПравила.bat`. Из файлов папки src создается файл `ПравилаОбмена_Собранные.xml`.
1. Собранные правила используются по прямому назначению или загружаются в Конвертацию даных для внесения изменений.

## Вспомогательные инструменты
* Скрипт `СортировкаПравилОбмена.os` предназначен для сортировки узлов исходных правил обмена (выгруженных из Конвертации данных) в алфавитном порядке. Полученные отсортированные правила сравниваются с собранным аналогом для проверки корректности сбора-разбора и выявления расхождений.
